{% macro literature_table(literature) %}
<table class="table table-striped table-responsive">
    <thead>
    <tr>
        <th scope="col">PubMed</th>
        <th scope="col">Date</th>
        <th scope="col">Title</th>
        <th scope="col">Is Review?</th>
    </tr>
    </thead>
    <tbody>
    {%- for _, row in literature.iterrows() %}
    <tr>
        <td><a href="{{ url_for('get_paper', pubmed=row['pubmed']) }}">{{ row['pubmed'] }}</a></td>
        <td>{{ row['date'] }}</td>
        <td>{{ row['title'] }}</td>
        <td>{{ row['is_review'] }}</td>
    </tr>
    {%- endfor %}
    </tbody>
</table>
{% endmacro %}

{% macro molecule_card(endpoint, curie, name) %}
<div class="col-6 col-md-2">
    <a href="{{ url_for(endpoint, curie=curie) }}" style="text-decoration: none">
        <div class="card h-100 text-center">
            <div class="card-body d-flex flex-column">
                <div class="flex-grow-1 d-flex align-items-center justify-content-center">
                    <img style="max-height: 8em;" src="https://bioregistry.io/{{ curie }}?provider=chebi-img"
                         alt="depiction of {{ name }}"/>
                </div>
                <h6 class="card-title mt-2 mb-0">{{ name }}</h6>
            </div>
        </div>
    </a>
</div>
{% endmacro %}

{% macro experiments_table(conditions_df, show_chemist=False, show_group=False, show_reference=True) %}
<table class="table table-striped">
    <thead>
    <tr>
        <th scope="col">Substrate</th>
        <th scope="col">Product</th>
        <th scope="col">Process</th>
        <th scope="col">Catalyst</th>
        <th scope="col">Yield (%)</th>
        <th scope="col">K Cat [min^-1]</th>
        {%- if show_reference %}
        <th scope="col">DOI</th>
        <th scope="col">PubMed</th>
        {%- endif %}
        {% if show_chemist %}
        <th scope="col">Person</th>
        {% endif %}
        {% if show_group %}
        <th scope="col">Group</th>
        {% endif %}
    </tr>
    </thead>
    <tbody>
    {% for i, row in conditions_df.iterrows() %}
    <tr>
        <td><a href="{{ url_for('get_entity', curie=row['input']) }}">{{ row['input name'] }}</a></td>
        <td><a href="{{ url_for('get_entity', curie=row['output']) }}">{{ row['output name'] }}</a></td>
        <td>{{ row['type name'] }}</td>
        <td>
            {%- if row['catalyst'] is string %}
            {%- if row['catalyst']  != "no catalyst" %}
            <a href="{{ url_for('get_catalyst', curie=row['catalyst']) }}">{{ row['catalyst name'] }}</a>
            {% else %}
            No Catalyst
            {% endif %}
            {%- else %}
            {{ row['catalyst name'] }}
            {%- endif %}
        </td>
        <td align="right">{{ row['yield (%)'] }}</td>
        <td align="right">{{ row['k [min^-1]'] }}</td>
        {%- if show_reference %}
        <td>{{ row['doi']}}</td>
        <td>
            {% if row['pubmed'] %}
            <a href="{{ url_for('get_paper', pubmed=row['pubmed']) }}">{{ row['pubmed'] }}</a>
            {% endif %}
        </td>
        {%- endif %}
        {%- if show_chemist %}
        <td>
            {%- if row['chemist'] is string %}
            <a href="{{ url_for('get_person', orcid=row['chemist'])}}">{{ row['chemist name']}}</a>
            {%- endif %}
        </td>
        {%- endif %}
        {%- if show_group %}
        <td>
            {%- if row['group'] > 0 %}
            <a href="{{ url_for('get_group', group=row['group'])}}">{{ row['group name']}}</a>
            {%- endif %}
        </td>
        {%- endif %}
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endmacro %}

<!doctype html>
<html lang="en">
<head>
    <title>{% block title %}{% endblock %}</title>
    {{ bootstrap.load_css() }}
    {{ bootstrap.load_js() }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>
<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="{{ url_for('get_home') }}">
            <img src="/docs/5.0/assets/brand/bootstrap-logo.svg" alt="" width="30" height="24"
                 class="d-inline-block align-text-top">
            Catalaix Knowledge Graph
        </a>
    </div>
</nav>
<div class="container" style="margin-top: 2em; margin-bottom: 50px">
    {% block content %}{% endblock %}
</div>
</body>
</html>
